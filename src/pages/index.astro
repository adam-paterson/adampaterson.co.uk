---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero';
import CareerTimeline from '../components/CareerTimeline';
import AnimatedSection from '../components/AnimatedSection';

const roles = [
  "am a Software Engineer",
  "am a Technical Architect",
  "specialize in E-commerce",
  "am obsessed with AI",
  "am a problem solver",
  "am a dog dad",
  "am also a human dad"
];

const pageTitle = "Adam Paterson - Technical Architect & Software Engineer";
const pageDescription = "Technical Architect and Software Engineer with over a decade of experience in e-commerce solutions, specializing in Adobe Commerce and modern web technologies.";

const { title } = Astro.props;
---

<Layout 
  title={pageTitle}
  description={pageDescription}
>
  <main class="flex flex-col min-h-screen">
    <Hero client:load roles={roles} />

    {/* About Section with interactive cards */}
    <section id="about" class="relative py-20 bg-gray-50 dark:bg-gray-900">
      <AnimatedSection client:load className="max-w-3xl mx-auto px-4">
        <h2 class="text-3xl font-display mb-8 text-center">About Me</h2>
        <p class="text-lg leading-relaxed mb-8">
          I'm a Software Engineer and Technical Architect with a passion for building scalable e-commerce solutions and exploring AI technologies. With over a decade of experience, I help businesses transform their digital presence.
        </p>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-12">
          {/* Add your key skills/tech stack icons here */}
        </div>
      </AnimatedSection>
    </section>

    {/* Featured Work with hover effects */}
    <section class="py-20">
      <AnimatedSection client:load delay={0.2} className="max-w-4xl mx-auto px-4">
        <h2 class="text-3xl font-display mb-12 text-center">Featured Work</h2>
        <div class="grid md:grid-cols-2 gap-8">
          {/* ProjectCards will go here */}
        </div>
        <div class="text-center mt-12">
          <a href="/projects" class="text-highlight dark:text-dark-highlight hover:underline">
            View All Projects â†’
          </a>
        </div>
      </AnimatedSection>
    </section>

    {/* Experience Timeline - Professional journey */}
    <section class="py-20 bg-off-white dark:bg-dark-bg">
      <div class="max-w-4xl mx-auto px-4">
        <h2 class="text-3xl font-display mb-12 text-center">Professional Journey</h2>
        <div class="relative">
          <CareerTimeline client:load />
        </div>
      </div>
    </section>

    {/* Contact CTA - Clear call to action */}
    <section class="py-20">
      <div class="max-w-2xl mx-auto px-4 text-center">
        <h2 class="text-3xl font-display mb-6">Let's Connect</h2>
        <p class="mb-8 text-lg">
          Open to discussing new opportunities, technical challenges, or just having a chat about technology.
        </p>
        <div class="space-x-4">
          <a 
            href="mailto:hello@adampaterson.co.uk" 
            class="inline-block bg-highlight dark:bg-dark-highlight text-white px-8 py-3 rounded-lg hover:opacity-90 transition-opacity"
          >
            Get in Touch
          </a>
          <!-- <a 
            href="/blog" 
            class="inline-block border-2 border-highlight dark:border-dark-highlight text-highlight dark:text-dark-highlight px-8 py-3 rounded-lg hover:opacity-90 transition-opacity"
          >
            Read My Blog
          </a> -->
        </div>
      </div>
    </section>
  </main>
</Layout>

<script>
  // Add smooth scroll behavior
  document.querySelectorAll('a[href^="#"]').forEach((element) => {
    const anchor = element as HTMLAnchorElement;
    anchor.addEventListener('click', function(e) {
      e.preventDefault();
      const href = this.getAttribute('href');
      if (!href) return;
      document.querySelector(href)?.scrollIntoView({
        behavior: 'smooth'
      });
    });
  });
</script>

<style>
  .animated-role {
    @apply inline-block min-w-[200px];
  }
  .cursor {
    @apply animate-blink;
  }
  @keyframes blink {
    0%, 100% { opacity: 0; }
    50% { opacity: 1; }
  }

  .career-timeline-container {
    position: relative;
    scrollbar-width: thin;
    scrollbar-color: rgba(155, 155, 155, 0.7) transparent;
  }

  .career-timeline-container::-webkit-scrollbar {
    width: 6px;
  }

  .career-timeline-container::-webkit-scrollbar-track {
    background: transparent;
  }

  .career-timeline-container::-webkit-scrollbar-thumb {
    background-color: rgba(155, 155, 155, 0.7);
    border-radius: 3px;
    border: transparent;
  }
</style>
